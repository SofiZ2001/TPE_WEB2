create table peliculas_renglon_entrega as select * from unc_esq_peliculas.renglon_entrega;
create table peliculas_ciudad as select * from unc_esq_peliculas.ciudad;
create table peliculas_distribuidor as select * from unc_esq_peliculas.distribuidor;
create table peliculas_empleado as select * from unc_esq_peliculas.empleado;
create table peliculas_empresa_productora as select * from unc_esq_peliculas.empresa_productora;
create table peliculas_entrega as select * from unc_esq_peliculas.entrega;
create table peliculas_internacional as select * from unc_esq_peliculas.internacional;
create table peliculas_nacional as select * from unc_esq_peliculas.nacional;
create table peliculas_pais as select * from unc_esq_peliculas.pais;
create table peliculas_pelicula as select * from unc_esq_peliculas.pelicula;
create table peliculas_departamento as select * from unc_esq_peliculas.departamento;
create table peliculas_tarea as select * from unc_esq_peliculas.tarea;
create table peliculas_video as select * from unc_esq_peliculas.video;

--
-- Name: ciudad pk_ciudad; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_ciudad
    ADD CONSTRAINT pk_peliculas_ciudad PRIMARY KEY (id_ciudad);


--
-- Name: departamento pk_departamento; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_departamento
    ADD CONSTRAINT pk_peliculas_departamento PRIMARY KEY (id_distribuidor, id_departamento);


--
-- Name: distribuidor pk_distribuidor; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_distribuidor
    ADD CONSTRAINT pk_peliculas_distribuidor PRIMARY KEY (id_distribuidor);


--
-- Name: empleado pk_empleado; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empleado
    ADD CONSTRAINT pk_peliculas_empleado PRIMARY KEY (id_empleado);


--
-- Name: empresa_productora pk_empresa_productora; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empresa_productora
    ADD CONSTRAINT pk_peliculas_empresa_productora PRIMARY KEY (codigo_productora);


--
-- Name: entrega pk_entrega; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_entrega
    ADD CONSTRAINT pk_peliculas_entrega PRIMARY KEY (nro_entrega);


--
-- Name: internacional pk_internacional; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_internacional
    ADD CONSTRAINT pk_peliculas_internacional PRIMARY KEY (id_distribuidor);


--
-- Name: nacional pk_nacional; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_nacional
    ADD CONSTRAINT pk_peliculas_nacional PRIMARY KEY (id_distribuidor);


--
-- Name: pais pk_pais; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_pais
    ADD CONSTRAINT pk_peliculas_pais PRIMARY KEY (id_pais);


--
-- Name: pelicula pk_pelicula; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_pelicula
    ADD CONSTRAINT pk_peliculas_pelicula PRIMARY KEY (codigo_pelicula);


--
-- Name: renglon_entrega pk_renglon_entrega; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_renglon_entrega
    ADD CONSTRAINT pk_peliculas_renglon_entrega PRIMARY KEY (nro_entrega, codigo_pelicula);


--
-- Name: tarea pk_tarea; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_tarea
    ADD CONSTRAINT pk_peliculas_tarea PRIMARY KEY (id_tarea);


--
-- Name: video pk_video; Type: CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_video
    ADD CONSTRAINT pk_peliculas_video PRIMARY KEY (id_video);


--
-- Name: ciudad ciudad_id_pais_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_ciudad
    ADD CONSTRAINT peliculas_ciudad_id_pais_fkey FOREIGN KEY (id_pais) REFERENCES peliculas_pais(id_pais);


--
-- Name: departamento departamento_id_ciudad_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_departamento
    ADD CONSTRAINT peliculas_departamento_id_ciudad_fkey FOREIGN KEY (id_ciudad) REFERENCES peliculas_ciudad(id_ciudad);


--
-- Name: departamento departamento_id_distribuidor_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_departamento
    ADD CONSTRAINT peliculas_departamento_id_distribuidor_fkey FOREIGN KEY (id_distribuidor) REFERENCES peliculas_distribuidor(id_distribuidor);


--
-- Name: departamento departamento_jefe_departamento_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_departamento
    ADD CONSTRAINT peliculas_departamento_jefe_departamento_fkey FOREIGN KEY (jefe_departamento) REFERENCES peliculas_empleado(id_empleado);


--
-- Name: empleado empleado_id_distribuidor_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empleado
    ADD CONSTRAINT peliculas_empleado_id_distribuidor_fkey FOREIGN KEY (id_distribuidor, id_departamento) REFERENCES peliculas_departamento(id_distribuidor, id_departamento);


--
-- Name: empleado empleado_id_jefe_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empleado
    ADD CONSTRAINT peliculas_empleado_id_jefe_fkey FOREIGN KEY (id_jefe) REFERENCES peliculas_empleado(id_empleado);


--
-- Name: empleado empleado_id_tarea_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empleado
    ADD CONSTRAINT peliculas_empleado_id_tarea_fkey FOREIGN KEY (id_tarea) REFERENCES peliculas_tarea(id_tarea);


--
-- Name: empresa_productora empresa_productora_id_ciudad_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_empresa_productora
    ADD CONSTRAINT peliculas_empresa_productora_id_ciudad_fkey FOREIGN KEY (id_ciudad) REFERENCES peliculas_ciudad(id_ciudad);


--
-- Name: entrega fk_entrega_distribuidor; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_entrega
    ADD CONSTRAINT fk_peliculas_entrega_distribuidor FOREIGN KEY (id_distribuidor) REFERENCES peliculas_distribuidor(id_distribuidor);


--
-- Name: entrega fk_entrega_video; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_entrega
    ADD CONSTRAINT fk_peliculas_entrega_video FOREIGN KEY (id_video) REFERENCES peliculas_video(id_video);


--
-- Name: nacional fk_nacional_distribuidor; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_nacional
    ADD CONSTRAINT fk_peliculas_nacional_distribuidor FOREIGN KEY (id_distribuidor) REFERENCES peliculas_distribuidor(id_distribuidor);


--
-- Name: nacional fk_nacional_mayorista; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_nacional
    ADD CONSTRAINT fk_peliculas_nacional_mayorista FOREIGN KEY (id_distrib_mayorista) REFERENCES peliculas_internacional(id_distribuidor);


--
-- Name: renglon_entrega fk_re_entrega; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_renglon_entrega
    ADD CONSTRAINT fk_peliculas_re_entrega FOREIGN KEY (nro_entrega) REFERENCES peliculas_entrega(nro_entrega);


--
-- Name: renglon_entrega fk_re_pelicula; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_renglon_entrega
    ADD CONSTRAINT fk_peliculas_re_pelicula FOREIGN KEY (codigo_pelicula) REFERENCES peliculas_pelicula(codigo_pelicula);


--
-- Name: internacional internacional_id_distribuidor_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_internacional
    ADD CONSTRAINT peliculas_internacional_id_distribuidor_fkey FOREIGN KEY (id_distribuidor) REFERENCES peliculas_distribuidor(id_distribuidor) ON DELETE CASCADE;


--
-- Name: pelicula pelicula_codigo_productora_fkey; Type: FK CONSTRAINT; Schema: unc_esq_peliculas; Owner: postgres
--

ALTER TABLE ONLY peliculas_pelicula
    ADD CONSTRAINT peliculas_pelicula_codigo_productora_fkey FOREIGN KEY (codigo_productora) REFERENCES peliculas_empresa_productora(codigo_productora);
